@model Escc.Libraries.BranchFinder.Website.LibrariesViewModel
@using System.Configuration
@using ClientDependency.Core.Mvc
@using Escc.ClientDependencyFramework
@using Escc.Web
@{
    Model.Metadata.Title = "Find your local library";
    Model.Metadata.Description = "Information about public libraries in East Sussex, their services, opening hours and contact details.";
    Model.Metadata.Keywords = "Libraries, Branch libraries, Children's libraries, Mobile libraries, Reference libraries,Library facilities, Children's library service, Mobile library services,library, libraries, book, books, reference, talking books, story cassettes, tapes, videos, dvds, music, scores, cds, compact discs, leaflets, local history, local studies, electoral register, registers, display, newspapers, magazines, periodicals, journals, photocopier, people's network, computers, pcs, internet, word processing, cd-roms, housebound, volunteer, children, storytimes, story time, activities, reading game, homework, research, information, enquiries, enquiry service, lifelong learning";
    Model.Metadata.DateIssued = "2007-01-04";
    Model.Metadata.IpsvPreferredTerms = "Libraries; Children's libraries; Mobile libraries; Public libraries; Reference libraries";
    Model.Metadata.IpsvNonPreferredTerms = "Library facilities; Children's library service; Mobile library services; Joining a library";
    Model.Metadata.LgtlType = "Website facilities;Search results";
    Model.Metadata.LgslNumbers = "437";

    Html.RequiresCss(CssFileAlias.Resolve("FormsSmall"));
    Html.RequiresCss(CssFileAlias.Resolve("FormsMedium"), MediaQueryAlias.Resolve("Medium"));
    Html.RequiresCss(CssFileAlias.Resolve("FormsLarge"), MediaQueryAlias.Resolve("Large"));
    Html.RequiresCss("~/css/map.css");
    Html.RequiresJs(JsFileAlias.Resolve("Tips"), 50);
    Html.RequiresJs(JsFileAlias.Resolve("DescribedByTips"));
    Html.RequiresJs(JsFileAlias.Resolve("GoogleMaps"), 50);
    Html.RequiresJs("~/js/map.js");

    new ContentSecurityPolicyHeaders(Response.Headers).AppendPolicy(new ContentSecurityPolicyFromConfig().Policies["GoogleMaps"]).UpdateHeaders();
}

<div class="full-page">
    <div class="content text-content">
        <h1>Find your local library</h1>

        <p>
            There are <span id="total-libraries">17</span> libraries in East Sussex.
            Most of our libraries have <a href="@ConfigurationManager.AppSettings["UmbracoBaseUrl"]/libraries/library-services-for-people-with-disabilities/disabled-access/">disabled access</a> for wheelchairs.
        </p>

        @Html.ValidationSummary()
        <form action="@Url.Content("~/librarysearch.aspx")" method="GET" class="form simple-form">
            <label for="postcode">Postcode</label>
            <input id="postcode" name="pc" class="postcode describedby-tip" aria-describedby="postcode-help" data-tip-positions="top bottom" />
            <p id="postcode-help">We won't keep or share your postcode.</p>
            <input type="submit" id="Go" value="Find your nearest" class="button" />
            <p class="useList note"><span class="or">or</span> use our <a href="@ConfigurationManager.AppSettings["UmbracoBaseUrl"]/libraries/locations/">list of libraries</a></p>
        </form>

        <div id="google-map" data-libraries-url="@ConfigurationManager.AppSettings["LibraryDataUrl"]"></div>

        @{ Html.RenderPartial("~/Views/EastSussexGovUK/Features/_Share.cshtml", Model); }
    </div>
</div>